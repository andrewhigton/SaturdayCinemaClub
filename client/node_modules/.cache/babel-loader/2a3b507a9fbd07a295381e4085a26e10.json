{"ast":null,"code":"import _objectSpread from \"/Users/andrewhigton/Documents/mern/SatCinemaClub/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/andrewhigton/Documents/mern/SatCinemaClub/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andrewhigton/Documents/mern/SatCinemaClub/client/src/components/booking-page/BookingPage.js\";\nimport React, { useEffect, useState, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'title-types';\nimport { connect } from 'react-redux';\nimport { createFilm, getCurrentProfile } from '../../actions/profile';\nimport StripeCheckoutButton from '../../components/stripe-button/stripe-button';\n\nconst BookFilm = ({\n  createProfile,\n  getCurrentProfile,\n  profile: {\n    profile,\n    loading\n  },\n  history\n}) => {\n  const _useState = useState({\n    user: '',\n    title: '',\n    date: '',\n    cinema: '',\n    image: '',\n    ticketPrice: '',\n    crowdfundTarget: '',\n    totalsoFar: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        formData = _useState2[0],\n        setFormData = _useState2[1];\n\n  setFormData({\n    user: loading || !profile.user ? '' : profile.user,\n    title: loading || !profile.title ? '' : profile.title,\n    cinema: loading || !profile.cinema ? '' : profile.cinema,\n    date: loading || !profile.date ? '' : profile.date,\n    image: loading || !profile.social ? '' : profile.social.image,\n    ticketPrice: loading || !profile.social ? '' : profile.social.ticketPrice,\n    crowdfundTarget: loading || !profile.social ? '' : profile.social.crowdfundTarget,\n    totalsoFar: loading || !profile.social ? '' : profile.social.totalsoFar\n  });\n  const title = formData.title,\n        date = formData.date,\n        cinema = formData.cinema,\n        image = formData.image,\n        ticketPrice = formData.ticketPrice,\n        crowdfundTarget = formData.crowdfundTarget,\n        totalsoFar = formData.totalsoFar;\n\n  const onChange = e => setFormData(_objectSpread({}, formData, {\n    [e.target.name]: e.target.value\n  }));\n\n  const onSubmit = e => {\n    e.preventDefault();\n    createProfile(formData, history, true);\n  };\n\n  useEffect(() => {\n    getCurrentProfile(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [getCurrentProfile]);\n  return React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"checkout-page how-it-works\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"checkout-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Film: \")), React.createElement(\"div\", {\n    className: \"header-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Date: \")), React.createElement(\"div\", {\n    className: \"header-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Number of tickets: \")), React.createElement(\"div\", {\n    className: \"header-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Price: \")), React.createElement(\"div\", {\n    className: \"header-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Crowdfunding Target: \")), React.createElement(\"div\", {\n    className: \"header-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Tickets sold: \"))), React.createElement(StripeCheckoutButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"btn btn-light my-1\",\n    to: \"/dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Go Back\"))));\n};\n\nBookFilm.propTypes = {\n  createProfile: PropTypes.func.isRequired,\n  getCurrentProfile: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  profile: state.profile\n});\n\nexport default connect(mapStateToProps, {\n  createFilm,\n  getCurrentProfile\n})(withRouter(BookFilm));","map":{"version":3,"sources":["/Users/andrewhigton/Documents/mern/SatCinemaClub/client/src/components/booking-page/BookingPage.js"],"names":["React","useEffect","useState","Fragment","Link","withRouter","PropTypes","connect","createFilm","getCurrentProfile","StripeCheckoutButton","BookFilm","createProfile","profile","loading","history","user","title","date","cinema","image","ticketPrice","crowdfundTarget","totalsoFar","formData","setFormData","social","onChange","e","target","name","value","onSubmit","preventDefault","propTypes","func","isRequired","object","mapStateToProps","state"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,QAArC,QAAqD,OAArD;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,EAAqBC,iBAArB,QAA8C,uBAA9C;AACA,OAAOC,oBAAP,MAAiC,8CAAjC;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AACjBC,EAAAA,aADiB;AAEjBH,EAAAA,iBAFiB;AAGjBI,EAAAA,OAAO,EAAE;AAAEA,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAHQ;AAIjBC,EAAAA;AAJiB,CAAD,KAKX;AAAA,oBAC2Bb,QAAQ,CAAC;AACxCc,IAAAA,IAAI,EAAE,EADkC;AAExCC,IAAAA,KAAK,EAAE,EAFiC;AAGxCC,IAAAA,IAAI,EAAE,EAHkC;AAIxCC,IAAAA,MAAM,EAAE,EAJgC;AAKxCC,IAAAA,KAAK,EAAE,EALiC;AAMxCC,IAAAA,WAAW,EAAE,EAN2B;AAOxCC,IAAAA,eAAe,EAAE,EAPuB;AAQxCC,IAAAA,UAAU,EAAE;AAR4B,GAAD,CADnC;AAAA;AAAA,QACEC,QADF;AAAA,QACYC,WADZ;;AAYLA,EAAAA,WAAW,CAAC;AACPT,IAAAA,IAAI,EAAEF,OAAO,IAAI,CAACD,OAAO,CAACG,IAApB,GAA2B,EAA3B,GAAgCH,OAAO,CAACG,IADvC;AAEPC,IAAAA,KAAK,EAAEH,OAAO,IAAI,CAACD,OAAO,CAACI,KAApB,GAA4B,EAA5B,GAAiCJ,OAAO,CAACI,KAFzC;AAGPE,IAAAA,MAAM,EAAEL,OAAO,IAAI,CAACD,OAAO,CAACM,MAApB,GAA6B,EAA7B,GAAkCN,OAAO,CAACM,MAH3C;AAIPD,IAAAA,IAAI,EAAEJ,OAAO,IAAI,CAACD,OAAO,CAACK,IAApB,GAA2B,EAA3B,GAAgCL,OAAO,CAACK,IAJvC;AAKPE,IAAAA,KAAK,EAAEN,OAAO,IAAI,CAACD,OAAO,CAACa,MAApB,GAA6B,EAA7B,GAAkCb,OAAO,CAACa,MAAR,CAAeN,KALjD;AAMPC,IAAAA,WAAW,EAAEP,OAAO,IAAI,CAACD,OAAO,CAACa,MAApB,GAA6B,EAA7B,GAAkCb,OAAO,CAACa,MAAR,CAAeL,WANvD;AAOPC,IAAAA,eAAe,EAAER,OAAO,IAAI,CAACD,OAAO,CAACa,MAApB,GAA6B,EAA7B,GAAkCb,OAAO,CAACa,MAAR,CAAeJ,eAP3D;AAQPC,IAAAA,UAAU,EAAET,OAAO,IAAI,CAACD,OAAO,CAACa,MAApB,GAA6B,EAA7B,GAAkCb,OAAO,CAACa,MAAR,CAAeH;AARtD,GAAD,CAAX;AAZK,QAyBJN,KAzBI,GAgCDO,QAhCC,CAyBJP,KAzBI;AAAA,QA0BJC,IA1BI,GAgCDM,QAhCC,CA0BJN,IA1BI;AAAA,QA2BJC,MA3BI,GAgCDK,QAhCC,CA2BJL,MA3BI;AAAA,QA4BJC,KA5BI,GAgCDI,QAhCC,CA4BJJ,KA5BI;AAAA,QA6BJC,WA7BI,GAgCDG,QAhCC,CA6BJH,WA7BI;AAAA,QA8BJC,eA9BI,GAgCDE,QAhCC,CA8BJF,eA9BI;AAAA,QA+BJC,UA/BI,GAgCDC,QAhCC,CA+BJD,UA/BI;;AAkCL,QAAMI,QAAQ,GAAGC,CAAC,IACjBH,WAAW,mBAAMD,QAAN;AAAgB,KAACI,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAA1C,KADZ;;AAGA,QAAMC,QAAQ,GAAGJ,CAAC,IAAI;AACrBA,IAAAA,CAAC,CAACK,cAAF;AACArB,IAAAA,aAAa,CAACY,QAAD,EAAWT,OAAX,EAAoB,IAApB,CAAb;AACA,GAHD;;AAKAd,EAAAA,SAAS,CAAC,MAAM;AACfQ,IAAAA,iBAAiB,GADF,CAEf;AACA,GAHQ,EAGN,CAACA,iBAAD,CAHM,CAAT;AAKA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,CADD,EAKC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,CALD,EASC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADD,CATD,EAaC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,CAbD,EAgBC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADD,CAhBD,EAmBC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,CAnBD,CADD,EAwBC,oBAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBD,EAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAqC,IAAA,EAAE,EAAC,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADA,CAzBF,CADA,CADA;AAmCA,CAvFD;;AAyFAE,QAAQ,CAACuB,SAAT,GAAqB;AACpBtB,EAAAA,aAAa,EAAEN,SAAS,CAAC6B,IAAV,CAAeC,UADV;AAEpB3B,EAAAA,iBAAiB,EAAEH,SAAS,CAAC6B,IAAV,CAAeC,UAFd;AAGpBvB,EAAAA,OAAO,EAAEP,SAAS,CAAC+B,MAAV,CAAiBD;AAHN,CAArB;;AAMA,MAAME,eAAe,GAAGC,KAAK,KAAK;AACjC1B,EAAAA,OAAO,EAAE0B,KAAK,CAAC1B;AADkB,CAAL,CAA7B;;AAIA,eAAeN,OAAO,CAAC+B,eAAD,EAAkB;AAAE9B,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAlB,CAAP,CACdJ,UAAU,CAACM,QAAD,CADI,CAAf","sourcesContent":["import React, { useEffect, useState, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'title-types';\nimport { connect } from 'react-redux';\nimport { createFilm, getCurrentProfile } from '../../actions/profile';\nimport StripeCheckoutButton from '../../components/stripe-button/stripe-button';\n\nconst BookFilm = ({\n\tcreateProfile,\n\tgetCurrentProfile,\n\tprofile: { profile, loading },\n\thistory\n}) => {\n\tconst [formData, setFormData] = useState({\n\t\tuser: '',\n\t\ttitle: '',\n\t\tdate: '',\n\t\tcinema: '',\n\t\timage: '',\n\t\tticketPrice: '',\n\t\tcrowdfundTarget: '',\n\t\ttotalsoFar: '',\n\t});\n\n\tsetFormData({\n      user: loading || !profile.user ? '' : profile.user,\n      title: loading || !profile.title ? '' : profile.title,\n      cinema: loading || !profile.cinema ? '' : profile.cinema,\n      date: loading || !profile.date ? '' : profile.date,\n      image: loading || !profile.social ? '' : profile.social.image,\n      ticketPrice: loading || !profile.social ? '' : profile.social.ticketPrice,\n      crowdfundTarget: loading || !profile.social ? '' : profile.social.crowdfundTarget,\n      totalsoFar: loading || !profile.social ? '' : profile.social.totalsoFar\n    });\n\n\n\tconst {\n\t\ttitle,\n\t\tdate,\n\t\tcinema,\n\t\timage,\n\t\tticketPrice,\n\t\tcrowdfundTarget,\n\t\ttotalsoFar\n\t} = formData;\n\t\n\tconst onChange = e =>\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\n\t\n\tconst onSubmit = e => {\n\t\te.preventDefault();\n\t\tcreateProfile(formData, history, true);\n\t};\n\t\n\tuseEffect(() => {\n\t\tgetCurrentProfile();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [getCurrentProfile]);\n\n\treturn (\n\t<form>\n\t<div className='checkout-page how-it-works'>\n\t\t<div className='checkout-header'>\n\t\t\t<div className='header-block'>\n\t\t\t\t<span>Film: </span>\n\t\t\t</div>\n\n\t\t\t<div className='header-block'>\n\t\t\t\t<span>Date: </span>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className='header-block'>\n\t\t\t\t<input>Number of tickets: </input>\n\t\t\t</div>\n\n\t\t\t<div className='header-block'>\n\t\t\t\t<span>Price: </span>\n\t\t\t</div>\n\t\t\t<div className='header-block'>\n\t\t\t\t<span>Crowdfunding Target: </span>\n\t\t\t</div>\n\t\t\t<div className='header-block'>\n\t\t\t\t<span>Tickets sold: </span>\n\t\t\t</div>\n\t\t</div>\n\t\t<StripeCheckoutButton />\n\t\t\t<div>\n\t\t\t<Link className='btn btn-light my-1' to='/dashboard'>\n\t\t\t\t\t\tGo Back\n\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\t);\n};\n\nBookFilm.propTypes = {\n\tcreateProfile: PropTypes.func.isRequired,\n\tgetCurrentProfile: PropTypes.func.isRequired,\n\tprofile: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n\tprofile: state.profile\n});\n\nexport default connect(mapStateToProps, { createFilm, getCurrentProfile })(\n\twithRouter(BookFilm)\n);"]},"metadata":{},"sourceType":"module"}