{"ast":null,"code":"import _slicedToArray from \"/Users/andrewhigton/Documents/mern/SatCinemaClub/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/andrewhigton/Documents/mern/SatCinemaClub/client/src/components/carousel/Carousel.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ImageSlide from './ImageSlide';\nimport Arrow from './Arrow';\nimport '../../App1.css';\n\nconst Carousel = ({\n  films: {\n    film\n  }\n}) => {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        currentImageIndex = _useState2[0],\n        setImageIndex = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        active = _useState4[0],\n        setActive = _useState4[1];\n\n  useEffect(() => {\n    const timer = setTimeout(nextSlide, 2000);\n    setActive(true);\n    var a = setActive();\n    var b = clearTimeout(timer);\n    return () => a && b;\n  }, [nextSlide]); //   return () => \n  //   clearTimeout(timer);\n  // }, [nextSlide])\n\n  useEffect(() => {\n    setImageIndex(0);\n  }, [setImageIndex]);\n\n  function previousSlide() {\n    const lastIndex = film.length - 1;\n    const shouldResetIndex = currentImageIndex === 0;\n    const index = shouldResetIndex ? lastIndex : currentImageIndex - 1;\n    setImageIndex(index);\n  }\n\n  function nextSlide() {\n    const lastIndex = film.length - 1;\n    const shouldResetIndex = currentImageIndex === lastIndex;\n    const index = shouldResetIndex ? 0 : currentImageIndex + 1;\n    setImageIndex(index);\n  }\n\n  if (film === null) return null; // return (<div className={this.state.show ? 'show' : null}></div>);\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(ImageSlide, {\n    className: `image-slide ${active ? 'fade active' : ''}` // className={addClass ? 'fade image-slide' : 'image-slide'} \n    ,\n    url: film[currentImageIndex].image,\n    title: film[currentImageIndex].title,\n    cinema: film[currentImageIndex].cinema,\n    date: film[currentImageIndex].date,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"arrows\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Arrow, {\n    direction: \"left\",\n    clickFunction: previousSlide,\n    glyph: \"\\u25C0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Arrow, {\n    direction: \"right\",\n    clickFunction: nextSlide,\n    glyph: \"\\u25B6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })));\n};\n\nCarousel.propTypes = {\n  films: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  films: state.film\n});\n\nexport default connect(mapStateToProps)(Carousel);","map":{"version":3,"sources":["/Users/andrewhigton/Documents/mern/SatCinemaClub/client/src/components/carousel/Carousel.js"],"names":["React","useState","useEffect","useRef","PropTypes","connect","ImageSlide","Arrow","Carousel","films","film","currentImageIndex","setImageIndex","active","setActive","timer","setTimeout","nextSlide","a","b","clearTimeout","previousSlide","lastIndex","length","shouldResetIndex","index","image","title","cinema","date","propTypes","object","isRequired","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ImageSlide from './ImageSlide';\nimport Arrow from './Arrow'; \nimport '../../App1.css';\n\nconst Carousel = ({ films: \n  { film } \n  }) => {\n  \n  const [ currentImageIndex, setImageIndex ] = useState(0);\n  \n  const [active, setActive] = useState();\n\n  useEffect(() => {\n    const timer = setTimeout(nextSlide, 2000);\n    setActive(true);\n    var a = setActive(); \n    var b = clearTimeout(timer); \n\n    return () => a && b;\n  }, [nextSlide])\n\n\n  //   return () => \n  //   clearTimeout(timer);\n  // }, [nextSlide])\n\n  useEffect(() => {\n  setImageIndex(0);\n  }, [setImageIndex]);\n\n  function previousSlide () {\n    const lastIndex = film.length - 1;\n    const shouldResetIndex = currentImageIndex === 0;\n    const index = shouldResetIndex ? lastIndex : currentImageIndex - 1;\n    setImageIndex(index)  \n  }\n  \n    function nextSlide () {\n    const lastIndex = film.length - 1;\n    const shouldResetIndex = currentImageIndex === lastIndex;\n    const index = shouldResetIndex ? 0 : currentImageIndex + 1;\n  setImageIndex(index)\n    }\n\n  if (film === null) return null;\n    // return (<div className={this.state.show ? 'show' : null}></div>);\n    return (\n        <div>\n        <ImageSlide \n        className={`image-slide ${active ? 'fade active' : ''}`} \n        // className={addClass ? 'fade image-slide' : 'image-slide'} \n        url={ film[currentImageIndex].image } \n        title={ film[currentImageIndex].title }\n        cinema={ film[currentImageIndex].cinema }\n        date={ film[currentImageIndex].date }\n        />     \n        <div className=\"arrows\">\n        <Arrow\n          direction=\"left\"\n          clickFunction={ previousSlide } \n          glyph=\"&#9664;\" \n         />\n        <Arrow\n          direction=\"right\"\n          clickFunction={ nextSlide }\n          glyph=\"&#9654;\" \n         />\n        </div>   \n      </div>\n    );\n}\n\nCarousel.propTypes = {\n  films: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  films: state.film\n});\n\nexport default connect(mapStateToProps)(Carousel);"]},"metadata":{},"sourceType":"module"}